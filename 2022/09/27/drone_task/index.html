<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>无人机任务 | PlanZ</title><meta name="author" content="青椒肉丝"><meta name="copyright" content="青椒肉丝"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="无人机任务场景Scenario: A drone is mounted with an internal GPS system and a 1D spinning LIDAR (something like this http://www.slamtec.com/en/lidar/a1). Every time the drone changes direction, the LIDAR does">
<meta property="og:type" content="article">
<meta property="og:title" content="无人机任务">
<meta property="og:url" content="https://moonglowshadow.com/2022/09/27/drone_task/index.html">
<meta property="og:site_name" content="PlanZ">
<meta property="og:description" content="无人机任务场景Scenario: A drone is mounted with an internal GPS system and a 1D spinning LIDAR (something like this http://www.slamtec.com/en/lidar/a1). Every time the drone changes direction, the LIDAR does">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/cover_dog_2.png">
<meta property="article:published_time" content="2022-09-27T09:15:15.000Z">
<meta property="article:modified_time" content="2025-03-26T01:57:47.704Z">
<meta property="article:author" content="青椒肉丝">
<meta property="article:tag" content="无人机">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/cover_dog_2.png"><link rel="shortcut icon" href="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/favicon_cat.png"><link rel="canonical" href="https://moonglowshadow.com/2022/09/27/drone_task/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=5.2.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-PKF693RYWD"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-PKF693RYWD')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-PKF693RYWD', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":600,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '无人机任务',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><link rel="stylesheet" href="/css/aplayer/aplayer_custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/one_pic_background/modify.css"><link rel="stylesheet" href="/css/page_custom/my_custom.css"><link rel="stylesheet" href="/css/font/font_setting.css"><link rel="stylesheet" href="/css/cursor/cursor_setting.css"><meta name="generator" content="Hexo 7.2.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="/css/preloader/preloader_flash.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg" style="background-image: url(https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/background_tingyun.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/avatar_486.gif" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/playlist/"><i class="fa-fw fas fa-music"></i><span> 歌单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 收藏夹</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/cover_dog_2.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/logo_cat.png" alt="Logo"><span class="site-name">PlanZ</span></a><a class="nav-page-title" href="/"><span class="site-name">无人机任务</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/playlist/"><i class="fa-fw fas fa-music"></i><span> 歌单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 收藏夹</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">无人机任务</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-27T09:15:15.000Z" title="发表于 2022-09-27 17:15:15">2022-09-27</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-03-26T01:57:47.704Z" title="更新于 2025-03-26 09:57:47">2025-03-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>15分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img" style="background-image: url(https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/cover_dog_2.png);"></div><article class="container post-content" id="article-container"><h1 id="无人机任务"><a href="#无人机任务" class="headerlink" title="无人机任务"></a>无人机任务</h1><h2 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h2><p><strong>Scenario:</strong> A drone is mounted with an internal GPS system and a 1D spinning LIDAR (something like this <a target="_blank" rel="noopener" href="http://www.slamtec.com/en/lidar/a1">http://www.slamtec.com/en/lidar/a1</a>). Every time the drone changes direction, the LIDAR does 1 full scan (sweep) of its surroundings. Our goal is to use the LIDAR data to improve the drone’s navigation. For this assignment altitude and drone orientation can be ignored. You can also assume that the scan is so fast that you can treat the drone as stationary for each sweep. One flight’s worth of data is provided consisting of $N$ sweeps over $x$ seconds.</p>
<p><strong>场景：</strong>一架无人机配备了内部GPS系统和一个一维旋转LIDAR（类似于这个：<a target="_blank" rel="noopener" href="http://www.slamtec.com/en/lidar/a1">http://www.slamtec.com/en/lidar/a1</a> ）。每当无人机改变方向时，LIDAR都会对其周围环境进行一次完整的扫描（扫描一圈）。我们的目标是利用LIDAR数据来改进无人机的导航。在本次任务中，可以忽略无人机的高度和方向。此外，可以假设扫描速度足够快，以至于在每次扫描期间可以将无人机视为静止的。提供了一次飞行的数据，其中包含N次扫描，持续x秒。</p>
<h2 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h2><p><strong>Tasks:</strong> For this assessment complete any 2 of the following Tasks. It is recommended that you pick 2 Tasks that assist each other. Any language may be used however Java, C#, C++ or Python are preferred. You may use prebuilt libraries for any of your data processing if you wish.</p>
<p><strong>任务：</strong>在本次评估中，请完成以下任务中的任意两个。建议选择能够相互辅助的两个任务。可以使用任何编程语言，但推荐使用 Java、C#、C++ 或 Python。如果需要，您可以使用预构建的库来处理数据。</p>
<ol>
<li><p><strong>Display:</strong> Create a program to provide an appropriate visualization of the drone’s path and the LIDAR data. Ideally, the display should be able to show 1 sweep (1 scan ID) of data in isolation as well as all the sweeps combined together. This can be on separate displays or on the same display (with individual sweeps shown by highlighting for example)</p>
<ul>
<li><p><strong>Input:</strong> LIDARDPoints.csv and FlightPath.csv (provided or created from another Task)</p>
</li>
<li><p><strong>Output:</strong> On-screen display</p>
</li>
</ul>
<p><strong>显示：</strong>编写一个程序，以适当的方式可视化无人机的飞行路径和LIDAR数据。理想情况下，显示应能够单独呈现一次扫描（1个扫描ID）的数据，以及所有扫描数据的整体可视化。这可以在不同的显示界面上实现，也可以在同一界面上实现（例如，通过高亮显示单次扫描）。</p>
<ul>
<li><p><strong>输入：</strong>LIDARDPoints.csv 和 FlightPath.csv（提供的数据或由其他任务生成）</p>
</li>
<li><p><strong>输出：</strong>屏幕显示</p>
</li>
</ul>
</li>
<li><p><strong>Simulation:</strong> Generate new <strong>LIDARDPoints</strong> data based on a new room layout and new plausible flight plan. This data is not provided so you will need to create the layout and flight plan yourself. This can either be done manually (ensure you include your data with your submission) or programmatically.</p>
<ul>
<li><strong>Input</strong>: Mapping.csv and FlightPath.csv (created, you may also use a map that matches the sample data provided however you will first need to generate this file [from part 5 for example]).</li>
<li><strong>Output:</strong> LIDARDPoints<strong>.</strong>csv</li>
</ul>
<p><strong>模拟：</strong>基于新的房间布局和新的合理飞行计划生成新的<strong>LIDARDPoints</strong>数据。由于未提供该数据，因此您需要自行创建房间布局和飞行计划。这可以手动完成（请确保在提交时包含您的数据），也可以通过编程方式生成。</p>
<ul>
<li><p><strong>输入：</strong>Mapping.csv 和 FlightPath.csv（需要创建，您也可以使用与提供的示例数据匹配的地图，但首先需要生成此文件（例如从第5部分生成））</p>
</li>
<li><p><strong>输出：</strong>LIDARDPoints<strong>.</strong>csv</p>
</li>
</ul>
</li>
<li><p><strong>Flight optimization:</strong> Based on the data provided, find a better flight path that will result in the shortest possible travel time but still goes through the existing rooms. (Assume the first sampled location is the start point and the last sampled location is the end point).</p>
<ul>
<li><strong>Input:</strong> LIDARDPoints.csv and FlightPath.csv (provided or created)</li>
<li><strong>Output:</strong> FlightPath.csv</li>
</ul>
<p><strong>飞行优化：</strong>于提供的数据，寻找一条更优的飞行路径，使其在仍然经过现有房间的前提下，实现最短的旅行时间。（假设第一个采样位置为起点，最后一个采样位置为终点）。</p>
<ul>
<li><p><strong>输入：</strong>LIDARDPoints.csv 和 FlightPath.csv（提供的数据或自行创建）。</p>
</li>
<li><p><strong>输出：</strong>FlightPath.csv</p>
</li>
</ul>
</li>
<li><p><strong>Flight reroute:</strong> Based on the data provided, find an alternative route that will take you to the end point faster. You may go through different rooms.</p>
<ul>
<li><strong>Input</strong>: LIDARDPoints.csv and FlightPath.csv (provided or created)</li>
<li><strong>Output:</strong> FlightPath.csv</li>
</ul>
<p><strong>飞行路线重规划：</strong>基于提供的数据，寻找一条替代路线，使无人机更快到达终点。可以经过不同的房间。</p>
<ul>
<li><p><strong>输入：</strong>LIDARDPoints.csv 和 FlightPath.csv（提供的数据或自行创建）。</p>
</li>
<li><p><strong>输出：</strong>FlightPath.csv</p>
</li>
</ul>
</li>
<li><p><strong>Mapping:</strong> Use the multiple data sweeps to map out the dimensions of the rooms.</p>
<ul>
<li><strong>Input</strong>: LIDARDPoints.csv and FlightPath.csv (provided or created)</li>
<li><strong>Output:</strong> Mapping.csv</li>
</ul>
<p><strong>映射：</strong>利用多次数据扫描来绘制房间的尺寸。</p>
<ul>
<li><strong>输入：</strong>LIDARDPoints.csv 和 FlightPath.csv（提供的数据或自行创建）。</li>
<li><strong>输出：</strong>Mapping.csv</li>
</ul>
</li>
</ol>
<h2 id="格式要求"><a href="#格式要求" class="headerlink" title="格式要求"></a>格式要求</h2><p><strong>Format:</strong></p>
<ul>
<li><strong>Program IO:</strong> As input, your program should take a path to the CSV files you will use as an input. As output, if the result is a data outputting Task, should be a csv, otherwise, if the Task is a visualization Task, it should display as it runs.</li>
<li><strong>File Format:</strong> Each time the drone takes a sample of data it generates a unique corresponding scan ID. This ID is shared between files and you can link location and lidar data using it.<ul>
<li><strong>FlightPath:</strong> FlightPath data is provided (and should be written in if you generate it) as a CSV file. The first line has the scan ID and number of data line (always 1). The next line is the X,Y location of the drone in meters.</li>
<li><strong>LIDARDPoints:</strong> LIDARPoints data is provided (and should also be the output format, if you generate LIDAR data) as a CSV file. The first line has the scan ID and number of data lines (number of recorded points for that sweep). Each following line has the angle of the data point (in degrees) and the distance (in millimeters) until the next scan ID header line. 34 sweeps are included.</li>
<li><strong>Mapping:</strong> If you generate a map of the rooms (Task 5) the results should be printed to a csv file. Each line of the file should represent one wall in the building. Each wall should be represented by its start and end point in millimeters (xstart, ystart, xend, ystart).</li>
</ul>
</li>
</ul>
<p><strong>格式要求：</strong></p>
<ul>
<li><strong>程序输入/输出（Program IO）：</strong>作为输入，程序应接受要使用的 CSV 文件的路径。作为输出，如果任务涉及数据输出，则应生成 CSV 文件；如果任务是可视化任务，则应在程序运行时进行显示。</li>
<li><strong>文件格式（File Format）：</strong>每次无人机采样数据时，都会生成一个唯一的扫描 ID，该 ID 在不同的文件中共享，可用于关联位置信息和 LIDAR 数据。<ul>
<li><strong>FlightPath（飞行路径）：</strong>该数据以 CSV 文件格式提供（如果生成新数据，也应以相同格式写入）。第一行包含扫描 ID 和数据行数（始终为 1）。第二行记录无人机的 X、Y 位置（单位：米）。</li>
<li><strong>LIDARDPoints（LIDAR 数据点）：</strong>该数据以 CSV 文件格式提供（如果生成新的 LIDAR 数据，也应以相同格式输出）。第一行 包含扫描 ID 和数据行数（即该次扫描记录的点数）。接下来的每一行记录数据点的角度（单位：度）和该方向上的距离（单位：毫米），直到遇到下一个扫描 ID 标题行。总共包含 34 次扫描数据。</li>
<li><strong>Mapping（房间映射）：</strong>如果执行了任务 5（生成房间地图），结果应输出到 CSV 文件。文件中的每一行代表建筑中的一面墙。每面墙的表示方式：起点坐标（xstart, ystart）和终点坐标（xend, yend），单位为毫米。</li>
</ul>
</li>
</ul>
<p><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/posts/drone-task/drone-01.png" alt="Format Example"></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>任务说明文件和相关数据保存在<a target="_blank" rel="noopener" href="https://github.com/rr-Razor/drone_task/tree/master/task_related"><code>./task_related</code></a>路径下</p>
<h3 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h3><ul>
<li>python3</li>
<li>安装pandas库(用于读取csv文件)</li>
<li>安装numpy(处理矩阵)</li>
<li>安装matplotlib(用于本任务绘图)</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas</span><br><span class="line">pip install numpy</span><br><span class="line">pip install matplotlib</span><br></pre></td></tr></tbody></table></figure>
<h3 id="部分任务实现"><a href="#部分任务实现" class="headerlink" title="部分任务实现"></a>部分任务实现</h3><ul>
<li><p>任务1</p>
<ul>
<li><p>读取GPS坐标，使用matplotlib库实现绘制飞行轨迹。</p>
</li>
<li><p>读取雷达扫描信息，根据角度将据墙壁的距离映射到x和y轴上，与对应GPS坐标相加获得扫描点的坐标，使用matplotlib将所有扫描点进行绘制即可得到墙壁。</p>
</li>
<li><p>注意本任务中数据的特殊性，GPS坐标和雷达扫描坐标x轴一致，y轴方向相反。</p>
</li>
</ul>
</li>
<li><p>任务5</p>
<ul>
<li>从任务1中获取墙壁雷达扫描点的坐标，因为扫描点存在误差，因为忽略掉坐标的小数位和个十位，使同一面墙的扫描点位于同一直线上。</li>
<li>观察数据，墙壁只有x轴和y轴两个走向，分别按y轴方向和按x轴方向检测墙壁，以y轴方向为例。</li>
<li>扫描点坐标矩阵进行排序，使其按照x坐标由小到大排列，当x坐标相同时，按照y坐标大小进行由小到大排列。</li>
<li>遍历排序后的矩阵，将第一个点的坐标设置给x_start,y_start，遍历的过程中进行两种情况的判断：</li>
<li>判断1(x坐标变化)：<ul>
<li>当前点与上一个点x坐标是否相等，因为在检索y轴走向墙壁，x坐标不相等则为不同墙壁</li>
<li>如不相等，继续判断上一坐标点的坐标与x_start,y_start的值是否相等以排除x轴走向墙壁的情况</li>
<li>当前点x坐标与上一点不同且上一点坐标与x_start,y_start不同，说明上一个点为墙壁的结束点，将上个点的坐标设置给x_end,y_end，将当前x_start,y_start，x_end,y_end进行保存，将当前点的坐标设置给x_start,y_start，继续遍历。</li>
</ul>
</li>
<li>判断2(y坐标的差值)：<ul>
<li>当x坐标相同时，y轴差距过大，说明不是同一个墙壁</li>
<li>因为在进行数据预处理时，将坐标个十位和小数点忽略，因此在一个墙壁上的连续点的差值均为100</li>
<li>在遍历的过程中，用当前点y坐标减去上一个点的y坐标，其差值大于100则说明不在同一墙壁上，将上个点的坐标设置给x_end,y_end，将当前x_start,y_start,x_end,y_end进行保存，将当前点的坐标设置给x_start,y_start，继续遍历。</li>
</ul>
</li>
<li>x轴走向的墙壁探测思路与y轴相同，完成对x和y轴走向墙壁的探测，即可获取墙壁起止坐标的映射。</li>
</ul>
</li>
</ul>
<p><strong>绘图工具类</strong></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图工具</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Draw</span>:</span><br><span class="line">    <span class="comment"># 创建figure</span></span><br><span class="line">    figure = plt.figure()</span><br><span class="line">    <span class="comment"># 创建axes</span></span><br><span class="line">    axes = figure.add_subplot(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 保存FlightPath.csv数据</span></span><br><span class="line">    paths = [[]]</span><br><span class="line">    <span class="comment"># 保存LIDARPoints.csv数据</span></span><br><span class="line">    points = [[]]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 保存扫描点坐标</span></span><br><span class="line">    x = []</span><br><span class="line">    y = []</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 路径点个数和扫描点的个数</span></span><br><span class="line">    num_of_paths = <span class="number">0</span></span><br><span class="line">    num_of_points = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, paths_origin, points_origin</span>):</span><br><span class="line">        <span class="comment"># 坐标点预处理</span></span><br><span class="line">        paths = paths_origin[<span class="number">1</span>::<span class="number">2</span>]</span><br><span class="line">        <span class="comment"># 将坐标点的单位由米转换为毫米</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, paths.shape[<span class="number">0</span>]):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, paths.shape[<span class="number">1</span>]):</span><br><span class="line">                paths[i][j] = paths[i][j] * <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">        self.num_of_paths = paths.shape[<span class="number">0</span>]</span><br><span class="line">        self.num_of_points = points_origin.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 属性赋值</span></span><br><span class="line">        self.paths = paths</span><br><span class="line">        self.points = points_origin</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 绘制飞行轨迹</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">draw_paths</span>(<span class="params">self</span>):</span><br><span class="line">        self.axes.plot(self.paths[:, <span class="number">0</span>], self.paths[:, <span class="number">1</span>], c=<span class="string">"blue"</span>)</span><br><span class="line">        self.axes.scatter(self.paths[:, <span class="number">0</span>], self.paths[:, <span class="number">1</span>], c=<span class="string">"blue"</span>, s=<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 绘制扫描点</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">draw_points</span>(<span class="params">self</span>):</span><br><span class="line">        self.transfer()</span><br><span class="line">        self.axes.scatter(self.x, self.y, c=<span class="string">"red"</span>, s=<span class="number">2</span>)</span><br><span class="line">        <span class="comment"># self.axes.plot(self.x, self.y, c="red")</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 扫描点坐标转换</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">transfer</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 遍历扫描点</span></span><br><span class="line">        p_id = <span class="number">0</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, self.num_of_points):</span><br><span class="line">            <span class="comment"># 判断是否是id行</span></span><br><span class="line">            <span class="keyword">if</span> i == count:</span><br><span class="line">                count = count + self.points[i][<span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">                p_id = <span class="built_in">int</span>(self.points[i][<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 获取扫描点扫描墙壁的坐标</span></span><br><span class="line">                x = self.paths[p_id][<span class="number">0</span>] + self.points[i][<span class="number">1</span>] * math.cos(self.points[i][<span class="number">0</span>] / <span class="number">180</span> * math.pi)</span><br><span class="line">                y = self.paths[p_id][<span class="number">1</span>] - self.points[i][<span class="number">1</span>] * math.sin(self.points[i][<span class="number">0</span>] / <span class="number">180</span> * math.pi)</span><br><span class="line">                self.x.append(x)</span><br><span class="line">                self.y.append(y)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">list</span>(<span class="built_in">zip</span>(self.x, self.y))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 显示绘制结果</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        plt.show()</span><br></pre></td></tr></tbody></table></figure>
<p><strong>墙壁映射工具类</strong></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 墙壁映射工具</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mapping</span>:</span><br><span class="line">    <span class="comment"># 墙壁扫描点</span></span><br><span class="line">    wall_points = [[]]</span><br><span class="line">    <span class="comment"># 墙壁映射</span></span><br><span class="line">    wall_map = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, wall_points</span>):</span><br><span class="line">        <span class="comment"># 将浮点数转换为整数</span></span><br><span class="line">        self.wall_points = np.array(wall_points).astype(dtype=<span class="built_in">int</span>)</span><br><span class="line">        <span class="comment"># 将整数个十位省略</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, self.wall_points.shape[<span class="number">0</span>]):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, self.wall_points.shape[<span class="number">1</span>]):</span><br><span class="line">                self.wall_points[i][j] = <span class="built_in">int</span>(self.wall_points[i][j] / <span class="number">100</span>) * <span class="number">100</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sort_points</span>(<span class="params">self, flag</span>):</span><br><span class="line">        <span class="keyword">if</span> flag == <span class="number">1</span>:</span><br><span class="line">            <span class="comment"># 按照先行再列从小到大排序</span></span><br><span class="line">            index = np.lexsort((self.wall_points[:, <span class="number">1</span>], self.wall_points[:, <span class="number">0</span>]))</span><br><span class="line">            self.wall_points = self.wall_points[index]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 按照先列再行从小到大排序</span></span><br><span class="line">            index = np.lexsort((self.wall_points[:, <span class="number">0</span>], self.wall_points[:, <span class="number">1</span>]))</span><br><span class="line">            self.wall_points = self.wall_points[index]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wall_xy</span>(<span class="params">self, axis</span>):</span><br><span class="line">        <span class="comment"># 对墙壁扫描点进行排序处理</span></span><br><span class="line">        self.sort_points(axis)</span><br><span class="line">        <span class="comment"># 先找竖着的墙</span></span><br><span class="line">        x_start = self.wall_points[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">        y_start = self.wall_points[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, self.wall_points.shape[<span class="number">0</span>]):</span><br><span class="line">            <span class="comment"># 判断是否在同一竖线上</span></span><br><span class="line">            a = <span class="number">0</span></span><br><span class="line">            b = <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> axis == <span class="number">1</span>:</span><br><span class="line">                a = <span class="number">0</span></span><br><span class="line">                b = x_start</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                a = <span class="number">1</span></span><br><span class="line">                b = y_start</span><br><span class="line">            <span class="keyword">if</span> self.wall_points[i][a] != b:</span><br><span class="line">                <span class="keyword">if</span> x_start != self.wall_points[i - <span class="number">1</span>][<span class="number">0</span>] <span class="keyword">or</span> y_start != self.wall_points[i - <span class="number">1</span>][<span class="number">1</span>]:</span><br><span class="line">                    x_end = self.wall_points[i - <span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">                    y_end = self.wall_points[i - <span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">                    self.wall_map.append([x_start, y_start, x_end, y_end])</span><br><span class="line"></span><br><span class="line">                x_start = self.wall_points[i][<span class="number">0</span>]</span><br><span class="line">                y_start = self.wall_points[i][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 判断是否属于同一面墙</span></span><br><span class="line">                <span class="keyword">if</span> self.wall_points[i][axis] - self.wall_points[i - <span class="number">1</span>][axis] &gt; <span class="number">100</span>:</span><br><span class="line">                    <span class="keyword">if</span> x_start != self.wall_points[i - <span class="number">1</span>][<span class="number">0</span>] <span class="keyword">or</span> y_start != self.wall_points[i - <span class="number">1</span>][<span class="number">1</span>]:</span><br><span class="line">                        x_end = self.wall_points[i - <span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">                        y_end = self.wall_points[i - <span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">                        self.wall_map.append([x_start, y_start, x_end, y_end])</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> axis == <span class="number">1</span>:</span><br><span class="line">                        y_start = self.wall_points[i][<span class="number">1</span>]</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        x_start = self.wall_points[i][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        x_end = self.wall_points[self.wall_points.shape[<span class="number">0</span>] - <span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">        y_end = self.wall_points[self.wall_points.shape[<span class="number">0</span>] - <span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        self.wall_map.append([x_start, y_start, x_end, y_end])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wall_mapping</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 找出y轴走向的墙壁</span></span><br><span class="line">        self.wall_xy(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 找出x轴走向的墙壁</span></span><br><span class="line">        self.wall_xy(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 输出墙壁映射结果</span></span><br><span class="line">        pd.DataFrame(self.wall_map).to_csv(<span class="string">"./data/output/Mapping.csv"</span>, index=<span class="literal">None</span>, header=<span class="literal">None</span>)</span><br></pre></td></tr></tbody></table></figure>
<p><strong>主函数</strong></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> painting_tools <span class="keyword">import</span> Draw</span><br><span class="line"><span class="keyword">from</span> wall_map <span class="keyword">import</span> Mapping</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 任务一：数据可视化</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task1_display</span>(<span class="params">paths, points</span>):</span><br><span class="line">    draw = Draw(paths, points)</span><br><span class="line">    <span class="comment"># 绘制飞行路径</span></span><br><span class="line">    draw.draw_paths()</span><br><span class="line">    <span class="comment"># 绘制墙壁</span></span><br><span class="line">    draw.draw_points()</span><br><span class="line">    <span class="comment"># 绘制结果展示</span></span><br><span class="line">    draw.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 任务五：获取墙壁映射</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task5_mapping</span>(<span class="params">paths, points</span>):</span><br><span class="line">    <span class="comment"># 获取墙壁扫描点</span></span><br><span class="line">    draw2 = Draw(paths, points)</span><br><span class="line">    wall_points = draw2.transfer()</span><br><span class="line">    <span class="comment"># 根据扫描点计算墙壁映射</span></span><br><span class="line">    mapping = Mapping(wall_points)</span><br><span class="line">    mapping.wall_mapping()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># 读数据</span></span><br><span class="line">    paths_origin = pd.read_csv(<span class="string">"./data/input/FlightPath.csv"</span>, header=<span class="literal">None</span>).values</span><br><span class="line">    points_origin = pd.read_csv(<span class="string">"./data/input/LIDARPoints.csv"</span>, header=<span class="literal">None</span>).values</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 拷贝数据</span></span><br><span class="line">    paths1 = copy.deepcopy(paths_origin)</span><br><span class="line">    points1 = copy.deepcopy(points_origin)</span><br><span class="line">    paths2 = copy.deepcopy(paths_origin)</span><br><span class="line">    points2 = copy.deepcopy(points_origin)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用任务一方法</span></span><br><span class="line">    task1_display(paths1, points1)</span><br><span class="line">    <span class="comment"># 调用任务五方法</span></span><br><span class="line">    task5_mapping(paths2, points2)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'任务处理结束，请在"./data/output/Mapping.csv"中查看输出结果'</span>)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="结果展示"><a href="#结果展示" class="headerlink" title="结果展示"></a>结果展示</h3><ul>
<li>任务1结果<ul>
<li>任务一图中，蓝色线为无人机飞行轨迹，蓝色点为无人机GPS定位点，红色墙壁由多个雷达扫描点组成。</li>
</ul>
</li>
</ul>
<p><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/posts/drone-task/drone-02.png" alt="任务1"></p>
<ul>
<li>任务5结果<ul>
<li>任务5图中，一行为一组坐标，其中A列为x_start，B列为y_start, C列位x_end，D列为y_end。</li>
<li>任务5的数据对应任务1中的红色墙壁，其中两个房间连接处较短的线段也被认为是一面墙壁，映射结果与图片展示结果是对应的。</li>
</ul>
</li>
</ul>
<p><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/posts/drone-task/drone-03.png" alt="任务5"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://moonglowshadow.com">青椒肉丝</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://moonglowshadow.com/2022/09/27/drone_task/">https://moonglowshadow.com/2022/09/27/drone_task/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://moonglowshadow.com" target="_blank">PlanZ</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%97%A0%E4%BA%BA%E6%9C%BA/">无人机</a></div><div class="post-share"><div class="social-share" data-image="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/cover_dog_2.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2021/01/21/gui-programming/" title="GUI编程"><img class="cover" src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/posts/gui-programming/gui-cover.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">GUI编程</div></div><div class="info-2"><div class="info-item-1">‌Java GUI编程‌是通过使用Java的图形用户界面（GUI）工具包来实现桌面应用程序的界面设计。</div></div></div></a><a class="pagination-related" href="/2022/10/09/graph-theory-and-applications/" title="图论及其应用"><img class="cover" src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/cover_dog_10.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">图论及其应用</div></div><div class="info-2"><div class="info-item-1">图论及其应用对于任意无向图G(输入为矩阵)，编写程序实现：  任务一：画出图G，并给所有顶点和边标号 任务二：求出图G的度序列 任务三：画出图G的补图 任务四：判断图G的连通性 任务五：求出图G的边连通度和点连通度 任务六：求出图G的最小点割集和最小边割集(元素最少)  解决方案任务一（画出图G，并给所有顶点和边标号） 通过 BrushTools 类中的 draw_vertex()# 画点, draw_edge()# 画边, show()# 展示绘制图像 方法实现 使用二维矩阵接收点和边，点用坐标表示，边用邻接矩阵表示，如下所示：  123456789import numpy as np# 接收点v = np.array([[1, 1], [1, 4], [7, 3], [5, 1]])# 接收边e = np.array([[1, 2, 0, 0],              [2, 0, 0, 1],              [0, 0, 0, 0],              [0, 1, 0, 0]])  使用python绘图库matplotlib实现图的绘制 使用matplotlib中的 scatter(x坐标, y坐标, c="颜色") 函数绘制图的顶点 使用matplotlib中的 plot(x坐标, y坐标, c="颜色") 函数绘制图的边，其中边的始点和终点坐标通过邻接矩阵e找到对应顶点坐标矩阵v中相应的坐标 通过matplotlib中的 add_artist(plt.Circle((圆心坐标), 半径, fill=是否填充, color="颜色")) 函数为画布上添加圆形来表示环 使用matplotlib中的 annotate(注释内容, xy=[添加注释的点的坐标], xytext=[注释文字的坐标]) 注释函数为点和边添加注释。注：在非简单无向图中，平行边通过为一条边添加多个不同的边注释来表示 使用matplotlib中的 show() 函数将绘制完的图像进行展示    任务二（求出图G的度序列） 通过 CalcTools 类中的 calc_degrees() 方法实现度序列的计算 因为是无向图，因此点vi的度数只需要考虑邻接矩阵 e...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/avatar_486.gif" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="author-info-name">青椒肉丝</div><div class="author-info-description">All those moments will be lost in time, like tears in rain.</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/rr-Razor"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">初次访问时部分资源可能加载速度较慢，请耐心等待、尝试刷新或者使用魔法❀❀❀</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%97%A0%E4%BA%BA%E6%9C%BA%E4%BB%BB%E5%8A%A1"><span class="toc-number">1.</span> <span class="toc-text">无人机任务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF"><span class="toc-number">1.1.</span> <span class="toc-text">场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1"><span class="toc-number">1.2.</span> <span class="toc-text">任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E8%A6%81%E6%B1%82"><span class="toc-number">1.3.</span> <span class="toc-text">格式要求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.4.</span> <span class="toc-text">解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">1.4.1.</span> <span class="toc-text">环境准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E4%BB%BB%E5%8A%A1%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.4.2.</span> <span class="toc-text">部分任务实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="toc-number">1.4.3.</span> <span class="toc-text">结果展示</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/04/01/godot-first-game-01/" title="使用Godot制作第一个2D游戏 01"><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/images/cover_dog_6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用Godot制作第一个2D游戏 01"></a><div class="content"><a class="title" href="/2025/04/01/godot-first-game-01/" title="使用Godot制作第一个2D游戏 01">使用Godot制作第一个2D游戏 01</a><time datetime="2025-04-01T14:40:05.000Z" title="发表于 2025-04-01 22:40:05">2025-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/03/06/memory-palace/" title="宫殿记忆法"><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/posts/memory-palace/memory-palace-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="宫殿记忆法"></a><div class="content"><a class="title" href="/2025/03/06/memory-palace/" title="宫殿记忆法">宫殿记忆法</a><time datetime="2025-03-06T12:15:25.000Z" title="发表于 2025-03-06 20:15:25">2025-03-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/27/mars-survival-guide/" title="火星生存指南--火星救援"><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/posts/mars-survival-guide/mars-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="火星生存指南--火星救援"></a><div class="content"><a class="title" href="/2024/11/27/mars-survival-guide/" title="火星生存指南--火星救援">火星生存指南--火星救援</a><time datetime="2024-11-27T03:13:26.000Z" title="发表于 2024-11-27 11:13:26">2024-11-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/19/commands-used-4-training/" title="服务器上模型训练的常用命令"><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/posts/commands-used-4-training/com-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="服务器上模型训练的常用命令"></a><div class="content"><a class="title" href="/2024/11/19/commands-used-4-training/" title="服务器上模型训练的常用命令">服务器上模型训练的常用命令</a><time datetime="2024-11-19T08:58:24.000Z" title="发表于 2024-11-19 16:58:24">2024-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/12/ozymandias/" title="OZYMANDIAS 奥西曼迭斯"><img src="https://moonglowshadow.oss-cn-qingdao.aliyuncs.com/planz/source/posts/ozymandias/ozy-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OZYMANDIAS 奥西曼迭斯"></a><div class="content"><a class="title" href="/2024/11/12/ozymandias/" title="OZYMANDIAS 奥西曼迭斯">OZYMANDIAS 奥西曼迭斯</a><time datetime="2024-11-12T13:36:55.000Z" title="发表于 2024-11-12 21:36:55">2024-11-12</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">©2020 - 2025 By 青椒肉丝</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.2.2"></script><script src="/js/main.js?v=5.2.2"></script><script src="/js/tw_cn.js?v=5.2.2"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }
      
      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><div id="moon-aplayer" class="aplayer no-destroy" data-id="13355291265" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-lrctype="0" data-listfolded="true" data-mutex="true"></div><script src="/js/jquery.js"></script><script src="/js/footer.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"]):not([href="/playlist/"]):not([href="/2024/11/27/mars-survival-guide/"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: true,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      pjax.loadUrl('/404.html')
    }
  })
})()</script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章或关键字" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.2.2"></script></div></div></body></html>